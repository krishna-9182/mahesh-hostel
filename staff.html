<!-- staff.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Manage Staff</title>
    <link rel="stylesheet" href="css/admin.css" />
    <link rel="stylesheet" href="css//manage-staff.css" />
  </head>
  <body>
    <nav id="sidebar" class="sidebar">
      <div class="sidebar-header"><h2>Admin</h2></div>
      <ul class="sidebar-menu">
        <li><a href="./admin.html">Dashboard</a></li>
        <li><a href="./staff.html" class="active">Manage Staff</a></li>
        <li><a href="./students.html">Manage Students</a></li>
        <li><a href="./attendance.html">Attendance</a></li>
        <li><a href="./fees.html">Fees</a></li>
        <li><a href="./meals.html">Meal Stats</a></li>
        <li><a href="./settings.html">Settings</a></li>
      </ul>
    </nav>

    <button id="menuBtn" class="menu-btn">â˜°</button>

    <header class="admin-header">
      <h1 class="title">Manage Staff</h1>
      <button id="logoutBtn">Logout</button>
    </header>

    <main class="admin-container">
      <section class="form-section">
        <h2>Add New Staff</h2>
        <form id="addStaffForm">
          <div class="form-group">
            <label>Username</label
            ><input id="username" name="username" required />
          </div>
          <div class="form-group">
            <label>Password</label
            ><input id="password" name="password" required />
          </div>
          <div class="form-group">
            <label>Full Name</label><input id="name" name="name" required />
          </div>
          <div class="form-group">
            <label>Address</label><input id="address" name="address" required />
          </div>
          <div class="form-group">
            <label>Phone Number</label
            ><input id="phone_number" name="phone_number" required />
          </div>
          <div class="form-group">
            <label>Bank Account Number</label
            ><input
              id="bank_account_number"
              name="bank_account_number"
              required
            />
          </div>
          <div class="form-group">
            <label>IFSC Code</label
            ><input id="ifsc_code" name="ifsc_code" required />
          </div>
          <div class="form-group">
            <label>Bank Name</label
            ><input id="bank_name" name="bank_name" required />
          </div>
          <div class="form-group">
            <label>Salary</label
            ><input id="salary" name="salary" type="number" required />
          </div>
          <div class="form-group">
            <label>Date of Joining</label
            ><input
              id="date_of_joining"
              name="date_of_joining"
              type="date"
              required
            />
          </div>
          <div class="form-group">
            <label>Role</label>
            <select id="role" name="role" required>
              <option value="warden">Warden</option>
              <option value="cook">Cook</option>
              <option value="cleaner">Cleaner</option>
            </select>
          </div>
          <button type="submit" class="submit-btn">Add Staff</button>
        </form>
      </section>

      <section class="staff-list-section">
        <h2>All Staff</h2>
        <div style="margin-bottom: 12px">
          <button id="exportStaffCSV" class="export-btn">Export CSV</button>
          <button id="exportStaffExcel" class="export-btn green">
            Export Excel
          </button>
        </div>
        <table class="students-table" id="staffTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Role</th>
                <th>Phone</th>
                <th>Address</th>
                <th>Bank</th>
                <th>IFSC</th>
                <th>Account No</th>
                <th>Salary</th>
                <th>Joining Date</th>
                <th>Action</th>
              </tr>
            </thead>
          <tbody></tbody>
        </table>
      </section>
    </main>

    <div id="globalLoader" class="global-loader hidden">
      <div class="spinner"></div>
    </div> 



    <!-- Edit Staff Modal -->
<!-- Edit Staff Modal -->
<div id="editModal" class="modal hidden">
  <div class="modal-content">
    <h2>Edit Staff</h2>
    <form id="editStaffForm">
      <input type="hidden" id="edit_id">


      <div class="form-group">
        <label>Full Name</label>
        <input id="edit_name" required />
      </div>

      <div class="form-group">
        <label>Address</label>
        <input id="edit_address" required />
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input id="edit_phone" required />
      </div>

      <div class="form-group">
        <label>Bank Account Number</label>
        <input id="edit_account" required />
      </div>

      <div class="form-group">
        <label>IFSC Code</label>
        <input id="edit_ifsc" required />
      </div>

      <div class="form-group">
        <label>Bank Name</label>
        <input id="edit_bank" required />
      </div>

      <div class="form-group">
        <label>Salary</label>
        <input id="edit_salary" type="number" required />
      </div>

     

      <div class="form-group">
        <label>Role</label>
        <select id="edit_role" required>
          <option value="warden">Warden</option>
          <option value="cook">Cook</option>
          <option value="cleaner">Cleaner</option>
        </select>
      </div>

      <button type="submit" class="save-btn">Save</button>
      <button type="button" class="close-btn" id="closeEdit">Cancel</button>
    </form>
  </div>
</div>


<!-- Delete Confirm Modal -->
<div id="deleteModal" class="modal hidden">
  <div class="modal-content small">
    <h3>Are you sure you want to delete this staff?</h3>
    <button id="confirmDelete" class="delete-confirm">Yes, Delete</button>
    <button id="cancelDelete" class="close-btn">Cancel</button>
  </div>
</div>

    <script type="module" src="js/staff.js"></script>
  </body>
</html>
